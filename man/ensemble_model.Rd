% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ensemble_model.R
\name{ensemble_model}
\alias{ensemble_model}
\title{Ensemble Model Training, Validation and Visualization}
\usage{
ensemble_model(X, y, selected_features)
}
\arguments{
\item{X}{A data frame or matrix containing the feature variables where rows represent samples and columns represent features. Must contain the columns specified in \code{selected_features}.}

\item{y}{A vector containing the target/response variable. For binary classification, should be numeric with values 0 and 1, or factor with two levels.}

\item{selected_features}{A character vector specifying the names of features to be used for model training. These must correspond to column names in \code{X}.}
}
\value{
A list containing the following components:
\itemize{
  \item \code{nomogram}: Fitted logistic regression model object of class \code{glm}
  \item \code{auc}: Numeric value representing the area under the ROC curve from cross-validation
  \item \code{coefficients}: Coefficients from the logistic regression model
  \item \code{formula}: The formula object used in logistic regression
  \item \code{dX}: Processed data frame used for modeling (includes target variable)
  \item \code{xgb}: Trained XGBoost model object
  \item \code{rf_model}: Trained random forest model object of class \code{randomForest}
}
}
\description{
This function performs integrated ensemble modeling by training three distinct machine learning models (logistic regression, XGBoost, and random forest) on selected features. It conducts comprehensive validation including cross-validation, decision curve analysis (DCA), and calibration curve assessment. The function automatically saves all models, validation plots, and metadata to disk.
}
\details{
The function implements a complete ensemble modeling workflow:
\enumerate{
  \item \strong{Data Preparation}: Converts input data to appropriate formats and creates model formula
  \item \strong{Model Training}: Simultaneously trains three different models using the same feature set
  \item \strong{Validation}: Performs cross-validation and generates decision curves and calibration plots
  \item \strong{Output}: Saves all models and visualization results to the "saved_models" directory
}

The function generates two key visualization files:
\itemize{
  \item \code{decision_curve.pdf}: Decision curves comparing net benefit across models
  \item \code{calibration_curves.pdf}: Individual and combined calibration plots
}
}
\examples{
\dontrun{
# Load required libraries
library(xgboost)
library(randomForest)
library(glmnet)

# Create sample data
data <- matrix(rnorm(1000), ncol = 10)
colnames(data) <- paste0("feature", 1:10)
target <- sample(0:1, 100, replace = TRUE)
features <- c("feature1", "feature3", "feature7")

# Run ensemble modeling
result <- ensemble_model(X = data, y = target, selected_features = features)

# Access results
print(result$auc)
summary(result$nomogram)
}

}
\references{
For theoretical background on ensemble methods and validation techniques:
\itemize{
  \item Spence, M. A., et al. (2018) "A General Framework for Combining Ecosystem Models". 
        Fish and Fisheries 19: 1013-42. https://doi.org/10.1111/faf.12310
  \item Google's R Style Guide: https://google.github.io/styleguide/Rguide.xml
}
}
\seealso{
Related functions and packages:
\itemize{
  \item \code{\link[stats]{glm}} for generalized linear models
  \item \code{\link[xgboost]{xgboost}} for gradient boosting models
  \item \code{\link[randomForest]{randomForest}} for random forest implementation
  \item \code{\link[glmnet]{cv.glmnet}} for cross-validation of GLM models
}
}
\author{
Your Name <your.email@domain.com>
}
